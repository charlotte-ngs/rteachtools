---
title: "Generate Tests for Student Info Functionality"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Generate Tests for Student Info Functionality}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


## Disclaimer
The creation of tests and the required data is documented.


## Test Data
The student information functionality is tested with the following dataset. The dataset is created using random names generated by the package `randomNames`. 

```{r}
if (!is.element("randomNames", installed.packages()))
  install.packages("randomNames", repos = "https://cran.rstudio.com")
# set number of students included in test data
n_nr_students <- 10
```

For the test dataset, we are using `r n_nr_students` randomly generated students.

```{r}
# n_seed <- rteachtools::get_seed();print(n_seed)
set.seed(7346)
vec_names <- randomNames::randomNames(n_nr_students, ethnicity = 5)
head(vec_names)
```

The random names are combined into a result tibble

```{r}
tbl_student_data <- tibble::tibble(
  Familienname = sapply(vec_names, 
                        function(x) unlist(strsplit(x, ","))[1]),
  Rufname  = sapply(vec_names, 
                        function(x) unlist(strsplit(x, ", "))[2]))
tbl_student_data
```


Student ID numbers are generated using the function

```{r}
rteachtools::get_random_student_id()
```

For all students IDs are generated using

```{r}
tbl_student_data$Nummer = sapply(1:n_nr_students, 
                                 function(x) rteachtools::get_random_student_id())
tbl_student_data
```

The language of the students

```{r}
tbl_student_data$Sprache <- sample(c("Deutsch", "FranzÃ¶sisch", "Italienisch"), n_nr_students, replace = T)
tbl_student_data$Departement <- "D-USYS"
tbl_student_data$Studiengang	<- "Agrarwiss. MSc"
tbl_student_data$Fachrichtung <- "Agrarwissenschaften MSc"
tbl_student_data
```

Generate E-Mail addresses


